# Database Structure 

The data generated by our browser extension is stored in a relational database running locally in the browser, which allows us to store detailed information and run arbitrary queries, such as "categorical inferences a specific tracker has made about a user in the past day." The database uses Google's Lovefield library, which provides a relational database using IndexedDB in the browser. In order to minimize data redundancy and ensure referential integrity, our schema conforms to the third normal form. 

## Tables 

- Ads
  - dom // the ad DOM 
  - domain // ad served domain (e.g., smallnetbuilder.com)
  - explanation // ad explanation (e.g., the text from `whythisad`)
  - url_explanation // ad explanation url 
  - url_landing_page_long // full outgoing href for ad 
  - url_landing_page_short // inferred final destination of outgoing href for ad 
  - gender // experimental feature (text to gender ML classification)
  - genderLexical // experimental feature (text to gender ML classification)
  - inference // ad inference category 
  - inferenceCategory // lowest-level ad inference category 
  - inferencePath // array of full path of ad interest category 
  - pageID // page id for the page the ad was served on 
  - threshold // interest inference engine internal value 
- GoogleInference
  - pageID // page id of this google My Ad Center grab 
  - inferences // array of objects of type <interest or demographic> and value (the substantive interest or demographic value)
    - one object per entry in My Ad Center
- IPAddress
  - alternative_id // city string form 
  - asn // Autonomous System Numbers for ip 
  - asn_number // ASN number for ip
  - asn_org // organization associated with ASN 
  - city // local city for IP 
  - connection_type // not used  
  - continent_code // not used 
  - continent_name // string form continent 
  - country_code // country of IP  
  - currency_code // monetary indication for continent 
  - district // local district of IP 
  - hostname // hostname for IP 
  - ip // ipv4
  - isp // service provider 
  - latitude // IP latitutde 
  - longitude // IP longitude
  - org // organization 
  - postal_code // postal for IP 
  - premium // service indicator 
  - region // region of IP 
  - success // IP lookup success or failure 
  - timezone_name // time zones for localization 
- Inferences
  - gender // experimental feature (text to gender ML classification)
  - genderLexical // experimental feature (text to gender ML classification)
  - inference // ad inference category 
  - inferenceCategory // lowest-level page inference category 
  - inferencePath // array of full path of page interest category 
  - pageID // page id for the page being visited  
  - threshold // interest inference engine internal value 
  - wordCloud // if page identified as sensitive, a TF-IDF capture of text on page 
- Pages
  - activity-events // array of objects of focus events
  - domain // page domain 
  - hostname // page hostname 
  - path // page path 
  - protocol // web protocol of page 
  - search_habits // array of Mondovo keywords matching 
  - title // page title 
- Trackers
  - pageId // page ID of page being visited 
  - tracker // string form of tracker identified 

